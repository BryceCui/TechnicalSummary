**单边循环法**

```java
public class 快排 {
    public static void main(String[] args) {

        int[] arrays = {8, 0, 9, 10, 8, 4, 11, 34, 1};
        sort(arrays, 0, arrays.length - 1);
        System.out.println(Arrays.toString(arrays));
    }

    public static void sort(int[] arrays, int startIndex, int endIndex) {
        if (startIndex >= endIndex) {
            return;
        }
        //基准数指针位置
        int prvotIndex = partition(arrays, startIndex, endIndex);

        //除基准数外  左右两边再次进行 交换排序
        sort(arrays, startIndex, prvotIndex - 1);

        sort(arrays, prvotIndex + 1, endIndex);
    }

    public static int partition(int[] arrays, int startIndex, int endIndex) {
        //基准数
        int pivot = arrays[startIndex];
        //基准数指针位置
        int mark = startIndex;
        //先不交换基准数位置 ，只记录基准数指针位置  结束循环后再交换
        for (int i = startIndex + 1; i <= endIndex; i++) {

            //如果下一个数小于基准数
            if (pivot > arrays[i]) {
                //指针右移并交换数据
                mark++;
                System.out.println("交换前" + Arrays.toString(arrays));
                //如果 两数不相等 在进行交换
                if (arrays[mark] != arrays[i]) {
                    int temp = arrays[mark];
                    arrays[mark] = arrays[i];
                    arrays[i] = temp;
                    System.out.println("交换后" + Arrays.toString(arrays));
                }

            }
        }
        //基准数交换到基准数指针位置
        arrays[startIndex] = arrays[mark];
        arrays[mark] = pivot;
        System.out.println();
        System.out.println("交换基准数" + Arrays.toString(arrays));
        System.out.println();
        return mark;

    }
}
```